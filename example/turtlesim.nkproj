{
    "logger": { "logLevel": "INFO" },

    "load_paths": ["./"],

    "shelves": [
        {"path": "turtlesim/turtlesim.nkshelf"},
        {"path": "brokers.nkshelf"}
    ],

    "operations": {
        "precreate": [
        ]
    },

    "containers": {
        "precreate": [
            {
                "typeName": "TurtleSim",
                "instanceName": "TurtleSim0.ctn",
                "operations": [
                    {
                        "typeName": "update",
                        "instanceName": "update0.ope"
                    },
                    {
                        "typeName": "spawn",
                        "instanceName": "spawn0.ope"
                    },
                    {
                        "typeName": "kill",
                        "instanceName": "kill0.ope"
                    },
                    {
                        "typeName": "setVelocity",
                        "instanceName": "setVelocity0.ope"
                    },
                    {
                        "typeName": "getPose",
                        "instanceName": "getPose0.ope"
                    }
                ]
            }
        ]
    },

    "brokers": {
        "precreate": [ 
          {
            "typeName": "HTTPBroker",
            "instanceName": "HTTPBroker0.brk",
            "host": "0.0.0.0",
            "port": 8080,
            "baseDir": "${ProjectDirectory}/../systemeditor",
            "route": {
                "/turtlesim/(.*)": "${ProjectDirectory}turtlesim/"
            }
            
          }
        ]
    },

    "ecs": {
        "load_paths": ["test", "build/test", "../build/test", "../build/example", "../../build/example", "../build/bin/Debug", "../../build/bin/Debug", "../../../build/bin"],
        "preload": ["TimerEC"],
        "precreate": [
          {
            "typeName": "TimerEC",
            "instanceName": "TimerEC0.ec",
            "rate": 10.0
          }
        ],
        "bind": {
            "TimerEC0.ec": [
                {
                    "fullName": "TurtleSim0.ctn:update0.ope",
                    "broker": "CoreBroker"
                },
                {
                    "fullName": "JoyController0.ctn:update0.ope",
                    "broker": "CoreBroker"
                }, 
                {
                    "fullName": "JoyController0.ctn:get0.ope",
                    "broker": "CoreBroker"
                }
            ]
        },
        "start": ["TimerEC0.ec"]
    },


    "connections": [
        { 
            "name": "connection01",
            "type": "event", 
            "broker": {"typeName": "HTTPBroker"},
            "output": {
                "info": {"fullName": "JoyController0.ctn:get0.ope"},
                "broker": {"typeName": "HTTPBroker",
                            "host": "localhost",
                            "port": 8080}
            },
            "input": {
                "info": {"fullName": "joy2turtlevel0.ope"},
                "broker": {"typeName": "HTTPBroker",
                    "host": "localhost",
                    "port": 8080},
                "target": {"name": "data"}
            }
        },
        { 
            "name": "connection02",
            "type": "event", 
            "broker": {"typeName": "HTTPBroker"},
            "output": {
                "info": {"fullName": "joy2turtlevel0.ope"},
                "broker": {"typeName": "HTTPBroker",
                            "host": "localhost",
                            "port": 8080}
            },
            "input": {
                "info": {"fullName": "TurtleSim0.ctn:setVelocity0.ope"},
                "broker": {"typeName": "HTTPBroker",
                    "host": "localhost",
                    "port": 8080},
                "target": {"name": "data"}
            }
        }
    ],

    "callbacks": [
        {
            "name": "on_started",
            "target": [
                {
                    "name": "JoyController0.ctn:initialize0.ope",
                    "argument": {
                        "arg": ""
                    } 
                }
            ]
        }
    ]
}  